---
import { getCollection } from 'astro:content';
const posts = await getCollection("posts");
console.log("✅ Blog posts loaded:", posts.length);
---

<h1>Blog – Latest AI Automation</h1>

{posts.length === 0 ? (
  <p>No posts available.</p>
) : (
  <ul>
    {posts.map(post => (
      <li>
        <a href={`/blog/${post.slug}`}>{post.data.title}</a>
      </li>
    ))}
  </ul>
)}
